# /usr/bin/env bash
#
# Set up a development environment

main()
{
    if [[ ! -f "$HOME"/.vim/autoload/plug.vim ]] ; then
        echo "Installing vim-plug..."
        curl -fLo "$HOME"/.vim/autoload/plug.vim --create-dirs \
            https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    fi

    if [[ ! -d "$HOME"/.fzf ]] ; then 
        echo "Installing fzf..."
        git clone --depth 1 https://github.com/junegunn/fzf.git "$HOME"/.fzf
        "$HOME"/.fzf/install --all
    fi
    
    echo "Symlinking dotfiles..."
    cd dotfiles
    find -type f | sed "s/^\.\///" | while read line; do
        ln -s "$PWD"/"$line" "$HOME"/."$line"
    done
}

main
