# /usr/bin/env bash
#
# Set up a development environment on a server

main()
{
    if [[ ! -f "$HOME"/.vim/autoload/plug.vim ]] ; then
        echo "Installing vim-plug..."
        curl -fLo "$HOME"/.vim/autoload/plug.vim --create-dirs \
            https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    fi

    if [[ ! -d "$HOME"/.fzf ]] ; then 
        echo "Installing fzf..."
        git clone --depth 1 https://github.com/junegunn/fzf.git "$HOME"/.fzf
        "$HOME"/.fzf/install --all
    fi
    
    echo "Symlinking dotfiles..."
    ln -s "$PWD"/dotfiles/bashrc "$HOME"/.bashrc
    ln -s "$PWD"/dotfiles/bash_profile "$HOME"/.bash_profile
    ln -s "$PWD"/dotfiles/vimrc "$HOME"/.vimrc
    ln -s "$PWD"/dotfiles/tmux.conf "$HOME"/.tmux.conf
    ln -s "$PWD"/dotfiles/gitconfig "$HOME"/.gitconfig
    ln -s "$PWD"/dotfiles/gitignore_global "$HOME"/.gitignore_global
}

main
