#! /usr/bin/env bash
#
# Set up a portable development environment on a server

main()
{
  echo "Installing vim-plug..."
  if [[ ! -f "$HOME/.vim/autoload/plug.vim" ]] ; then
    curl -fLo "$HOME/.vim/autoload/plug.vim --create-dirs" \
      https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  fi

  echo "Installing fzf..."
  if [[ ! -d "$HOME/.fzf" ]] ; then 
    git clone --depth 1 https://github.com/junegunn/fzf.git "$HOME/.fzf"
    "$HOME/.fzf/install"
  fi

  echo "Copying dotfiles..."
  cp "$PWD/dotfiles/.bashrc" "$HOME"
  cp "$PWD/dotfiles/.bash_profile" "$HOME"
  cp "$PWD/dotfiles/.vimrc" "$HOME"
  cp "$PWD/dotfiles/.tmux.conf" "$HOME"
  cp "$PWD/dotfiles/.gitconfig" "$HOME"
  cp "$PWD/dotfiles/.gitignore_global" "$HOME"
}

main
